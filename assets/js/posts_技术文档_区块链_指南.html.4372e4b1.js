"use strict";(self.webpackChunkvuepress_theme_hope_template=self.webpackChunkvuepress_theme_hope_template||[]).push([[256],{2991:(i,s)=>{s.A=(i,s)=>{const a=i.__vccOpts||i;for(const[i,n]of s)a[i]=n;return a}},301:(i,s,a)=>{a.r(s),a.d(s,{comp:()=>k,data:()=>p});var n=a(2360);const l=(0,n.Lk)("h1",{id:"区块链部署指南",tabindex:"-1"},[(0,n.Lk)("a",{class:"header-anchor",href:"#区块链部署指南"},[(0,n.Lk)("span",null,"区块链部署指南")])],-1),t=(0,n.Lk)("h2",{id:"_1-创建truffle项目-初始化truffle项目",tabindex:"-1"},[(0,n.Lk)("a",{class:"header-anchor",href:"#_1-创建truffle项目-初始化truffle项目"},[(0,n.Lk)("span",null,"1. 创建Truffle项目，初始化Truffle项目")])],-1),e=(0,n.Fv)('<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">mkdir</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> my-project</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> my-project</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">truffle</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> init</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2-编写智能合约-sol文件-并将写好的sol文件存储到-contracts-还需要在-migrations编辑迁移文件" tabindex="-1"><a class="header-anchor" href="#_2-编写智能合约-sol文件-并将写好的sol文件存储到-contracts-还需要在-migrations编辑迁移文件"><span>2. 编写智能合约（sol文件），并将写好的sol文件存储到/contracts,还需要在/migrations编辑迁移文件</span></a></h2><p>以下以存储数据库数据的智能合约(sol文件)为例</p><div class="language-solidity line-numbers-mode" data-highlighter="shiki" data-ext="solidity" data-title="solidity" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// SPDX-License-Identifier: MIT</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">pragma</span><span style="--shiki-light:#22863A;--shiki-dark:#E06C75;"> solidity</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> ^0.8.0</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">contract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> DataStorage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    struct</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> Data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        uint256</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> id;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dataType;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> way;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> acqTime;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> place;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> temperature;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> pressure;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> altitude;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        address</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> owner;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        bool</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> isDeleted;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    mapping</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">uint256</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> Data) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dataStore;</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">    uint256</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> private</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dataCounter;</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // Event emitted when data is stored</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    event</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> DataStored</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">uint256</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> indexed</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> dataId</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">address</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> indexed</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> owner</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // Function to store data</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> storeData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> dataType</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> way</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> acqTime</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> place</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> temperature</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> pressure</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> altitude</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    ) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> returns</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">uint256</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        dataCounter</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">++</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        dataStore[dataCounter] </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> Data</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">({</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            id</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dataCounter,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            dataType</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dataType,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            way</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> way,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            acqTime</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> acqTime,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            place</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> place,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            temperature</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> temperature,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            pressure</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> pressure,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            altitude</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> altitude,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            owner</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> msg.sender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            isDeleted</span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> false</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        });</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        emit</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> DataStored</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(dataCounter, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">msg.sender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dataCounter;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // Function to retrieve data</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> retrieveData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">uint256</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> view</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> returns</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        uint256</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        string</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> memory</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        address</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">        bool</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    ) {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(dataStore[id].owner </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> msg.sender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Not authorized to access this data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        Data </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">storage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> data </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> dataStore[id];</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.id,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.dataType,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.way,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.acqTime,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.place,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.temperature,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.pressure,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.altitude,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.owner,</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">            data.isDeleted</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        );</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // Function to share data with another user</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> shareData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">uint256</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">address</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> newOwner</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(dataStore[id].owner </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> msg.sender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Not authorized to share this data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        dataStore[id].owner </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> newOwner;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">    // Function to delete data</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;"> deleteData</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">uint256</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(dataStore[id].owner </span><span style="--shiki-light:#D73A49;--shiki-dark:#ABB2BF;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> msg.sender</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Not authorized to delete this data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">        dataStore[id].isDeleted </span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> true</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">;</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>迁移文件示例</p><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> DataStorage</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;DataStorage&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> Test</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;"> artifacts</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">require</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;Test&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> function</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">deployer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  deployer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">DataStorage</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E5C07B;">  deployer</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">Test</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">);</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-编译并部署智能合约-在项目中-build-contracts文件夹中生成" tabindex="-1"><a class="header-anchor" href="#_3-编译并部署智能合约-在项目中-build-contracts文件夹中生成"><span>3. 编译并部署智能合约，在项目中/build/contracts文件夹中生成</span></a></h2><p>**注：truffle compile编译智能合约，进行truffle migrate部署智能合约之前需要先打开Ganacha，并在truffle项目文件中调整好配置（truffle-config.js）</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">truffle</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> compile</span></span>\n<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">truffle</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> migrate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-js line-numbers-mode" data-highlighter="shiki" data-ext="js" data-title="js" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// truffle-config.js</span></span>\n<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">  networks</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    development</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">      host</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;127.0.0.1&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// Localhost (default: ganache)</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">      port</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;">7545</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,            </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// 根据Ganacha可视化界面中的端口号设定，默认为7545</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">      network_id</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;*&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,       </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// 设置为&quot;*&quot;,即可连接所有</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    },</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  },</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">  compilers</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">    solc</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: {</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">      version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;0.8.0&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">,    </span><span style="--shiki-light:#6A737D;--shiki-dark:#7F848E;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;">// Specify compiler version</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    },</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">  },</span></span>\n<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">};</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_4-提取编译文件-json-的-abi和-bin文件" tabindex="-1"><a class="header-anchor" href="#_4-提取编译文件-json-的-abi和-bin文件"><span>4. 提取编译文件(.json)的.abi和.bin文件</span></a></h2><p>**在编译出的文件中，找到.abi和.bin两部分，填写到java项目中（这里以java为例）</p><h2 id="_5-在java项目中安装配置web3j-使用web3j命令生成java类" tabindex="-1"><a class="header-anchor" href="#_5-在java项目中安装配置web3j-使用web3j命令生成java类"><span>5. 在java项目中安装配置web3j，使用web3j命令生成Java类</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" data-title="bash" style="--shiki-light:#24292e;--shiki-dark:#abb2bf;--shiki-light-bg:#fff;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes github-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">web3j</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> solidity</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> generate</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -a</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> D:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">avaweb</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">roject</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\U</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">nderwaterDataManagement-backend</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\b</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">uild</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ontracts</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\D</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ataStorage.abi</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -b</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> D:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">avaweb</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">roject</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\U</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">nderwaterDataManagement-backend</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\b</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">uild</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ontracts</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\D</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ataStorage.bin</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> D:</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">avaweb</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">roject</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\U</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">nderwaterDataManagement-backend</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\s</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">rc</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\m</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ain</span><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">\\j</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">ava</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> com.guanzhi.springbootinit.utils</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>D:\\javaweb\\project\\UnderwaterDataManagement-backend\\build\\contracts\\DataStorage.abi，.abi文件的存储地址（创建.abi文件，并把提取的abi内容粘贴到文件中，下方的.bin同理）</p><p>D:\\javaweb\\project\\UnderwaterDataManagement-backend\\build\\contracts\\DataStorage.bin，.bin文件的存储地址（创建.bin文件，提取json文件中的bytecode粘贴到文件中）</p><p>D:\\javaweb\\project\\UnderwaterDataManagement-backend\\src\\main\\java -p com.guanzhi.springbootinit.utils(生成的java类的存储地址)</p><h2 id="_6-根据区块链网络填写私钥和地址" tabindex="-1"><a class="header-anchor" href="#_6-根据区块链网络填写私钥和地址"><span>6. 根据区块链网络填写私钥和地址</span></a></h2><ol><li>项目部署成功后，黑窗口如下即为部署成功 <img src="/blockchain/1.png" alt="部署成功" loading="lazy"> 然后打开Ganache，首页随意点击一个钥匙(show key),展示出的ACCOUNT ADDRESS和PRIVATE KEY均是我们需要的值。 <img src="/blockchain/2.png" alt="可视化" loading="lazy"> 然后把区块链信息添加到java项目中 <img src="/blockchain/3.png" alt="添加案例" loading="lazy"></li></ol>',19),h={},k=(0,a(2991).A)(h,[["render",function(i,s){return(0,n.uX)(),(0,n.CE)("div",null,[l,t,(0,n.Q3)(" more "),e])}]]),p=JSON.parse('{"path":"/posts/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%8C%87%E5%8D%97.html","title":"区块链部署指南","lang":"zh-CN","frontmatter":{"icon":"eos-icons:blockchain","date":"2023-09-30T00:00:00.000Z","category":["区块链","后端","技术文档","指南"],"tag":["区块链","后端","技术文档","指南"],"star":true,"dir":{"order":5},"description":"1. 创建Truffle项目，初始化Truffle项目","head":[["meta",{"property":"og:url","content":"https://mister-hope.github.io/posts/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/%E5%8C%BA%E5%9D%97%E9%93%BE/%E6%8C%87%E5%8D%97.html"}],["meta",{"property":"og:site_name","content":"ik楠の空间"}],["meta",{"property":"og:title","content":"区块链部署指南"}],["meta",{"property":"og:description","content":"1. 创建Truffle项目，初始化Truffle项目"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://mister-hope.github.io/blockchain/1.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-07-19T06:34:39.000Z"}],["meta",{"property":"article:author","content":"iknan"}],["meta",{"property":"article:tag","content":"区块链"}],["meta",{"property":"article:tag","content":"后端"}],["meta",{"property":"article:tag","content":"技术文档"}],["meta",{"property":"article:tag","content":"指南"}],["meta",{"property":"article:published_time","content":"2023-09-30T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-07-19T06:34:39.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"区块链部署指南\\",\\"image\\":[\\"https://mister-hope.github.io/blockchain/1.png\\",\\"https://mister-hope.github.io/blockchain/2.png\\",\\"https://mister-hope.github.io/blockchain/3.png\\"],\\"datePublished\\":\\"2023-09-30T00:00:00.000Z\\",\\"dateModified\\":\\"2024-07-19T06:34:39.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"iknan\\",\\"url\\":\\"https://iknan.love\\"}]}"]]},"headers":[{"level":2,"title":"1. 创建Truffle项目，初始化Truffle项目","slug":"_1-创建truffle项目-初始化truffle项目","link":"#_1-创建truffle项目-初始化truffle项目","children":[]},{"level":2,"title":"2. 编写智能合约（sol文件），并将写好的sol文件存储到/contracts,还需要在/migrations编辑迁移文件","slug":"_2-编写智能合约-sol文件-并将写好的sol文件存储到-contracts-还需要在-migrations编辑迁移文件","link":"#_2-编写智能合约-sol文件-并将写好的sol文件存储到-contracts-还需要在-migrations编辑迁移文件","children":[]},{"level":2,"title":"3. 编译并部署智能合约，在项目中/build/contracts文件夹中生成","slug":"_3-编译并部署智能合约-在项目中-build-contracts文件夹中生成","link":"#_3-编译并部署智能合约-在项目中-build-contracts文件夹中生成","children":[]},{"level":2,"title":"4. 提取编译文件(.json)的.abi和.bin文件","slug":"_4-提取编译文件-json-的-abi和-bin文件","link":"#_4-提取编译文件-json-的-abi和-bin文件","children":[]},{"level":2,"title":"5. 在java项目中安装配置web3j，使用web3j命令生成Java类","slug":"_5-在java项目中安装配置web3j-使用web3j命令生成java类","link":"#_5-在java项目中安装配置web3j-使用web3j命令生成java类","children":[]},{"level":2,"title":"6. 根据区块链网络填写私钥和地址","slug":"_6-根据区块链网络填写私钥和地址","link":"#_6-根据区块链网络填写私钥和地址","children":[]}],"git":{"createdTime":1720258608000,"updatedTime":1721370879000,"contributors":[{"name":"iknan","email":"149158995+iknan@users.noreply.github.com","commits":6}]},"readingTime":{"minutes":2.6,"words":780},"filePathRelative":"posts/技术文档/区块链/指南.md","localizedDate":"2023年9月30日","excerpt":"\\n<h2>1. 创建Truffle项目，初始化Truffle项目</h2>\\n","autoDesc":true}')}}]);